/**
 * @file Styles for site navigation and headers.
 */
// Page: Header; with site branding, navigation and a search modal.
// -----------------------------------------------------------------------------
header.page__header {
  @extend .border-bottom, .border-dark, .border-4;
  border-bottom-color: map_get($theme-colors, "dark-gray") !important;

  @include media-breakpoint-up(lg) {
    min-height: 7.15rem;
  }

  .container {
    @include media-breakpoint-down(sm) {
      padding: 0;
    }
  }

  // Alerts
  .alert-item {
    background-color: #E9EEEB;
    .btn-close {
      background: transparent url('/themes/custom/westy/assets/images/close-o.svg') 50%/1.5em auto no-repeat;
    }
    .alert-icon{
      z-index: 2;
      margin-right: 2rem;

      img {
        height: auto;
        width: 2em;
      }
    }
    .alert {
      margin-bottom: 0;
      p:last-child{
        margin: 0;
      }
    }
  }

  // The logo & branding section.
  .block--westy-site-branding {
    @include media-breakpoint-down(sm) {
      padding-left: var(--bs-gutter-x, 0.5rem);
    }

    padding: 1rem 0;

    me-auto {
      padding: 1.5rem 0 !important;
    }

    h1 a {
      font-size: $h2-font-size;
      text-align: left;
      text-decoration: none;
      // @include media-breakpoint-up(md) {
      //   font-size: $h1-font-size;
      // }
      &:hover,
      &:active {
        color: $link-color;
      }
      span {
        @extend .link-dark-gray;
        display: block;
        font-weight: normal;
      }

      @include media-breakpoint-down(sm) {
        font-size: $h4-font-size;
      }
    }
    img {
      @include media-breakpoint-down(lg) {
        width: 77.25px;
      }

      margin-right: 0.813rem;
    }
  }

  // Main site navigation.

  .navbar {
    @include media-breakpoint-up(lg) {
      align-items: flex-end;
    }

    .navbar-toggler {
      @include media-breakpoint-down(sm) {
        margin-right: var(--bs-gutter-x, 0.5rem);
      }
    }

    padding: 0;

    .navbar-nav {
      @include media-breakpoint-down(sm) {
        background-color: map_get($theme-colors, "dark-gray") !important;
      }
    }
  }

  .navbar-collapse {
    @extend .justify-content-end;

    .me-auto {
      margin-right: initial !important;
    }

    // Top-level menu links.
    a.nav-link {
      color: #fff;
      font-size: $h5-font-size;
      padding: 1rem 0.75rem;

      @include media-breakpoint-up(sm) {
        color: map_get($theme-colors, "dark-gray");
        font-size: $h4-font-size;
        font-weight: 600;
        margin-left: 1rem;
        padding: 1.5rem 0.5rem;
      }

      @include media-breakpoint-down(sm) {
        color: #fff;

        &:hover,
        &:active {
          color: #fff;
          text-decoration: none;
        }
      }

      &:hover,
      &:active {
        text-decoration: none;
      }

      &:first-of-type {
        margin-left: 0;
      }

      &.show {
        color: map_get($theme-colors, "dark-gray");
        background-color: map_get($theme-colors, "faded-gray");
      }

      .gg-search {
        box-sizing: border-box;
        position: relative;
        display: inline-block;
        transform: scale(var(--ggs, 1));
        width: 16px;
        height: 16px;
        border: 2px solid;
        border-radius: 100%;
        margin-left: 4px;
        margin-top: -4px;
      }

      .gg-search::after {
        content: "";
        display: block;
        box-sizing: border-box;
        position: absolute;
        border-radius: 3px;
        width: 2px;
        height: 8px;
        background: currentColor;
        transform: rotate(-45deg);
        top: 10px;
        left: 12px;
      }
    }

    .nav-item {
      @include media-breakpoint-between(sm, lg) {
        border-bottom: 1px solid map_get($theme-colors, "dark-gray");
      }
    }

    // Menu flyouts.
    .dropdown-menu {
      @extend .border-0, .rounded-0, .p-3, .mb-2, .bg-dark-gray, .text-white;
      padding: 2rem !important;

      @include media-breakpoint-up(lg) {
        background-color: map_get($theme-colors, "dark-gray") !important;
        min-width: 400px;

        &.show {
          display: grid;
          grid-template-rows: repeat(10, min-content);
          grid-auto-flow: column;
        }
      }

      a {
        color: white;
        background-color: transparent;
        &:hover,
        &:focus {
          color: white;
          background-color: transparent;
          text-decoration: underline;
        }
      }
    }

    // Search menu flyout.
    .form-wrapper {
      margin: 0;
    }

    .form-search {
      font-style: italic;
    }

    .form-actions {
      display: inline-block;
      margin-left: 0.5rem;

      .form-submit {
        color: map_get($theme-colors, "dark-gray");
        background-color: map_get($theme-colors, "faded-light-blue");
      }
    }
  }
}

// Main: Header; with site Drupal and messages.
// -----------------------------------------------------------------------------
main header.page__sub_header {
  &.b-border {
    border-bottom: 2px solid map_get($theme-colors, "faded-gray");
  }
}

main .img-bg {
  background-repeat: no-repeat;
  background-size: cover;
  background-origin: content-box;
  background-position: center center;
  min-height: 400px;
}
